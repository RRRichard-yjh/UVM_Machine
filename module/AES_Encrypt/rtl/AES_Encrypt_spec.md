## Module Name
AES_Encrypt

## Module Overview
The AES_Encrypt module implements the AES encryption algorithm, which is a symmetric key encryption standard. This module takes a 128-bit plaintext input and a key of configurable length (128, 192, or 256 bits) and produces a 128-bit ciphertext output. The encryption process involves multiple rounds of transformations, including substitution, permutation, and mixing operations, based on the provided key.

## Input Ports
- `in`: 128 bits, input, represents the plaintext data to be encrypted.
- `key`: N bits, input, represents the encryption key, where N is a parameter that can be 128, 192, or 256 bits.

## Output Ports
- `out`: 128 bits, output, represents the ciphertext resulting from the encryption of the input plaintext.

## Parameters
- `N`: Default 128, configurable, specifies the bit-width of the encryption key.
- `Nr`: Default 10, configurable, specifies the number of encryption rounds.
- `Nk`: Default 4, configurable, specifies the number of 32-bit words in the key.

## Implementation Details
- **Core Logic**: The AES encryption process involves several key steps:
  1. **Key Expansion**: The `keyExpansion` module generates round keys from the initial key using functions like `subwordx`, `rotword`, and `rconx`.
  2. **Initial AddRoundKey**: The plaintext is XORed with the first round key.
  3. **Rounds**: For each round, the following transformations are applied:
     - **SubBytes**: Byte substitution using an S-box.
     - **ShiftRows**: Row-wise permutation.
     - **MixColumns**: Column-wise mixing (not applied in the final round).
     - **AddRoundKey**: XOR with the round key.
  4. **Final Round**: Similar to the regular rounds but omits the MixColumns step.

- **Control Logic**: The module uses a generate loop to apply the encryption transformations across multiple rounds. The control logic ensures that the correct sequence of operations is applied for each round.

- **Data Flow**: Data flows through the module in a pipelined fashion, with each stage of the pipeline corresponding to a transformation step in the AES algorithm. Intermediate results are stored in wires connecting submodules.

- **Submodules**:
  - `keyExpansion`: Generates round keys.
  - `subBytes`: Performs byte substitution using an S-box.
  - `shiftRows`: Performs row-wise permutation.
  - `mixColumns`: Performs column-wise mixing.
  - `addRoundKey`: XORs data with a round key.
  - `encryptRound`: Combines SubBytes, ShiftRows, MixColumns, and AddRoundKey for a single round.

- **Encoding Schemes**: The S-box is implemented using a case statement for byte substitution.

- **Pointer Management**: Not applicable as the module does not use pointers.

- **Condition Checks**: The module checks for specific conditions like the start of a new round to apply the correct transformations.

- **Reset and Clocking**: The module does not explicitly handle reset or clock signals, as it is designed to be combinational. It assumes that inputs are stable when the encryption process begins.

## Output Behavior
The output `out` is generated by applying the AES encryption transformations to the input `in` using the expanded keys derived from `key`. The output is dependent on the input plaintext and the encryption key, producing a unique ciphertext for each unique input-key pair. The final output is the result of the last AddRoundKey operation in the final round.